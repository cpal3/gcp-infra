# Decoupled Bootstrap Configuration
# Separate identity (service_accounts) from permissions (iam_roles).

service_accounts:
  terraform-runner:
    display_name: "Terraform Runner (Bootstrap/Core)"
  foundation-runner:
    display_name: "Foundation Runner"

iam_roles:
  terraform-runner:
    org:
      - roles/resourcemanager.organizationViewer
      - roles/billing.user
    project:
      - roles/storage.admin
      - roles/serviceusage.serviceUsageAdmin
      - roles/resourcemanager.projectIamAdmin
      - roles/iam.workloadIdentityPoolAdmin
      - roles/iam.serviceAccountAdmin
      - roles/browser

  foundation-runner:
    org:
      - roles/resourcemanager.folderAdmin
      - roles/resourcemanager.projectCreator
      - roles/resourcemanager.organizationViewer
      - roles/browser
      - roles/serviceusage.serviceUsageAdmin
      - roles/resourcemanager.projectIamAdmin
      - roles/orgpolicy.policyAdmin
      - roles/logging.configWriter
      - roles/billing.user
    project:
      - roles/storage.admin
      - roles/browser
